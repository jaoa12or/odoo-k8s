Docker image: docker.io/bitnami/debian-base-buildpack:bullseye-r5
Commands:
apt-get update -y
DEBIAN_FRONTEND="noninteractive" apt-get install -y --no-install-recommends libjpeg-dev libpng-dev libpq-dev libfreetype6-dev
export PATH=/opt/bitnami/node/bin:$PATH
curl -SsLf "https://downloads.bitnami.com/files/stacksmith/node-18.14.0-0-linux-amd64-debian-11.tar.gz" -o "/opt/bitnami/node-18.14.0-0-linux-amd64-debian-11.tar.gz" && tar -zxf "/opt/bitnami/node-18.14.0-0-linux-amd64-debian-11.tar.gz" -C /opt/bitnami --strip-components=2 --no-same-owner --wildcards '*/files' && rm -rf "/opt/bitnami/node-18.14.0-0-linux-amd64-debian-11.tar.gz"
export PATH=/opt/bitnami/python/bin:$PATH
curl -SsLf "https://downloads.bitnami.com/files/stacksmith/python-3.10.11-0-linux-amd64-debian-11.tar.gz" -o "/opt/bitnami/python-3.10.11-0-linux-amd64-debian-11.tar.gz" && tar -zxf "/opt/bitnami/python-3.10.11-0-linux-amd64-debian-11.tar.gz" -C /opt/bitnami --strip-components=2 --no-same-owner --wildcards '*/files' && rm -rf "/opt/bitnami/python-3.10.11-0-linux-amd64-debian-11.tar.gz"
curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin v0.40.0
curl http://nightly.odoo.com/15.0/nightly/src/odoo_15.0.20230710.tar.gz --output /tmp/sources/odoo/odoo_15.0.20230710.tar.gz
tar --no-same-owner -C /bitnami/blacksmith-sandox/odoo-15.0.20230710.tmp -xf /tmp/sources/odoo/odoo_15.0.20230710.tar.gz
cd /bitnami/blacksmith-sandox/odoo-15.0.20230710.tmp
virtualenv  /opt/bitnami/odoo/venv
npm  install less less-plugin-clean-css
/opt/bitnami/odoo/venv/bin/pip  install -r /bitnami/blacksmith-sandox/odoo-15.0.20230710/requirements.txt
/opt/bitnami/odoo/venv/bin/python  setup.py install --install-scripts /opt/bitnami/odoo/bin --install-lib /opt/bitnami/odoo/lib
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/_cffi_backend.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/cryptography/hazmat/bindings/_constant_time.abi3.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/cryptography/hazmat/bindings/_openssl.abi3.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/cryptography/hazmat/bindings/_padding.abi3.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/greenlet/_greenlet.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/greenlet/platform/switch_x64_masm.obj"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/greenlet/tests/_test_extension_cpp.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/greenlet/tests/_test_extension.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/_elementpath.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/builder.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/etree.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/html/clean.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/html/diff.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/objectify.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/lxml/sax.cpython-310-x86_64-linux-gnu.so"
strip  "/opt/bitnami/odoo/venv/lib/python3.10/site-packages/zope/interface/_zope_interface_coptimizations.cpython-310-x86_64-linux-gnu.so"
